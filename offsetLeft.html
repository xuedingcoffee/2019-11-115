<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        div {
            padding: 100px;
        }

        #box {
            background: red;
            _position: relative;
        }

        #box1 {
            background: green;
            position: relative;
            border: 50px solid #000;
        }

        #box2 {
            background: skyblue;
            position: absolute;
            top: 150px;
            border: 50px solid #000;
        }
    </style>
</head>

<body>
    <div id="box">
        <div id="box1">
            <div id="box2"></div>
        </div>
    </div>
    <script>
        /*
               绝对位置
        
               求得绝对位置，就是把当前元素的所有祖先节点的距离计算一遍，求和即可
       
               具体实施：
               1.先定义当前元素
               2.求当前元素的距离（定位距离和边框距离）
               3.把这次的定位父级编程下一次循环的当前
       
       
        */
        //  let nowEle=box2
        //  let l=0
        //  let cl=nowEle.clientLeft

        //  while(nowEle)
        //  {
        //     l+=(nowEle.offsetLeft+nowEle.clientLeft)
        //     nowEle= nowEle.offsetParent 
        //     l=l-cl
        //  }
        //  console.log(l)

        //现在用封装函数来写

        class Tools {
            position(nowEle) {
                let nowEle = box2
                let l = 0
                let cl = nowEle.clientLeft
                while (nowEle) {
                    l += (nowEle.offsetLeft + nowEle.clientLeft)
                    nowEle = nowEle.offsetParent
                    l = l - cl
                }
   
                 return{
                    l  
                 }

            }
        }


        let l1=new Tools;
        let l=l1.position(box2)
        console.log(l)

    </script>
</body>

</html>